import{a as _e,l as he,q as fe,r as ve}from"./chunk-6TLC5H4A.js";import{a as oe}from"./chunk-7Z4G7YUE.js";import{a as ue}from"./chunk-KLNPW7O6.js";import{Aa as ge,Ea as ye,Ka as Ce,a as K,ca as re,da as ae,fa as se,g as P,ga as de,h as Q,ha as le,i as W,ia as ce,j as X,l as q,n as $,o as ee,p as te,pa as pe,q as ne,r as A,u as ie,xa as me}from"./chunk-NDTJ6SKF.js";import"./chunk-W4BNGQYG.js";import{Aa as j,Jb as D,La as V,Ob as r,Pa as U,Pb as a,Qb as C,Ub as b,Y as E,Zb as h,_ as v,_b as m,ba as R,da as k,ea as l,fb as c,ga as F,ha as G,ic as s,jb as z,jc as H,kc as u,mb as B,na as _,oa as g,pc as Y,rc as L,sb as y,sc as J,ta as T,wa as N,yb as M,yc as Z}from"./chunk-L3R3QVOB.js";import{e as O}from"./chunk-ACKELEN3.js";var x=class i{constructor(t){this.router=t}canActivate(){let t,e;return typeof window<"u"&&(t=localStorage.getItem("dataUser"),e=JSON.parse(t)),!!e}static \u0275fac=function(e){return new(e||i)(k(A))};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})};function Pe(i,t){if(i&1){let e=b();r(0,"div",2)(1,"div",4)(2,"div",5)(3,"h3"),s(4,"Hola, ya haces parte de este grupo puedes interactuar con los integrantes"),a()()(),r(5,"div",6)(6,"button",7),h("click",function(){_(e);let o=m(2);return g(o.memberDashboard())}),r(7,"mat-icon"),s(8,"add"),a(),r(9,"span"),s(10,"Continuar"),a()()()()}}function Ie(i,t){if(i&1){let e=b();r(0,"div",3)(1,"div",4)(2,"div",8)(3,"div",9)(4,"h3"),s(5),r(6,"span"),s(7,"\u{1F4AA}"),a()()(),r(8,"div",5)(9,"h3"),s(10,"Te invita a unirte a este Grupo"),a()()()(),r(11,"div",10)(12,"mat-card")(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"h3"),s(18),a(),r(19,"div",15)(20,"span"),s(21),a()(),r(22,"div",15)(23,"span"),s(24),L(25,"currency"),a()(),r(26,"div",15)(27,"span"),s(28),a()(),r(29,"div",16)(30,"span"),s(31),a()(),r(32,"div",17)(33,"span"),s(34,"Estado: Activo"),a()(),C(35,"hr"),r(36,"div",18)(37,"span"),s(38,"Quieres unirte a este grupo y dividir el valor entre todos los participantes?"),a()(),r(39,"div",19)(40,"div",20)(41,"button",21),h("click",function(){_(e);let o=m(2);return g(o.registerNewMember(!0))}),r(42,"span"),s(43,"Aceptar"),a()(),r(44,"button",22),h("click",function(){_(e);let o=m(2);return g(o.noMemberGroup())}),r(45,"span"),s(46,"Rechazar"),a()()()()()()()()()()()}if(i&2){let e=m(2);c(5),u("Hola, ",e.guestData==null?null:e.guestData.creadoPor," "),c(13),H(e.guestData==null?null:e.guestData.nombreGrupo),c(3),u("Creador: ",e.guestData==null?null:e.guestData.creadoPor,""),c(3),u("valor: ",J(25,6,e.guestData==null?null:e.guestData.totalAmount),""),c(4),u("Fecha: ",e.guestData==null?null:e.guestData.createdAt,""),c(3),u("Participantes: ",e.guestData==null?null:e.guestData.miembros,"")}}function we(i,t){if(i&1&&(r(0,"div",0),M(1,Pe,11,0,"div",2)(2,Ie,47,8,"div",3),a()),i&2){let e=m();c(),D(e.guestData!=null&&e.guestData.esMiembro?1:2)}}function Oe(i,t){if(i&1){let e=b();r(0,"div",1)(1,"div",23)(2,"h2"),s(3,"Para aceptar ingreso al grupo primero debes Autenticarte "),a(),r(4,"div",24)(5,"button",7),h("click",function(){_(e);let o=m();return g(o.login())}),r(6,"mat-icon"),s(7,"add"),a(),r(8,"span"),s(9,"Iniciar Sesi\xF3n"),a()()()()()}}var f=class i{_routeActivate=l(te);_crud=l(_e);_auth=l(ge);_alert=l(ve);_route=l(A);_general=l(ue);_datePipe=l(P);dialog=l(he);guestData;isAuthenticated=!1;dataStorage;constructor(){}ngOnInit(){return O(this,null,function*(){this._getUserStorage();let t=this._routeActivate.snapshot.paramMap.get("token");console.log(t),typeof window<"u"&&localStorage.setItem("token",t),this.isAuthenticated=this._auth.isAuthenticatedStorage(),this.isAuthenticated&&setTimeout(()=>{this.readGroupGuest(t)},500)})}returDashboard(){this._route.navigate(["/dashboard"]).then()}readGroupGuest(t){if(typeof window<"u"){let e=localStorage.getItem("token");console.log(t),this._crud.readGroupGuest(t,this.dataStorage?.userID).then(n=>{console.log(n),this.guestData=n})}}_getUserStorage(){this.dataStorage=this._general.getStorage(),console.log(this.dataStorage)}login(){this._route.navigate(["/"])}memberDashboard(){this._route.navigate(["dashboard/mis-grupos"])}registerNewMember(t){let e=new Date,n=this._datePipe.transform(e,"dd-MM-yyyy"),o={groupId:this.guestData?.groupID,userId:this.dataStorage?.userID,role:"Invitado",joinedAt:n,token:this.guestData?.token,memberID:this._general?.generateId(),status:t,payGroup:!1};this._crud.registerMembersGuest(o).then(d=>{console.log(d),d&&this._addGroup()}).catch(()=>{this._alert.showToasterError("Hubo un error al realzar la accion intentelo mas tarde")})}noMemberGroup(){this._alert.showToasterUpdate("Puedes crear grupos agregar tus amigos y interactuar con ellos"),this._route.navigate(["dashboard"])}_addGroup(){localStorage.removeItem("token"),this._alert.showToasterFull("Ya eres parte del grupo puedes intercambair mensajes con los integrantes"),this._route.navigate(["dashboard/mis-grupos"])}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["app-guest"]],features:[Y([P])],decls:2,vars:1,consts:[[1,"container__guest"],[1,"container__no__found"],[1,"container__init"],[1,"container__general"],[1,"container__info__logo"],[1,"container__guest__title"],[1,"container__add__group___init"],["mat-flat-button","",3,"click"],[1,"container__logo__init"],[1,"container__guest__logo"],[1,"container__card"],[1,"container__card__item"],[1,"container__card__info__item"],[1,"container__card__info__item__children"],[1,"container__card__info__item__children__right"],[1,"div__date"],[1,"div__people"],[1,"div__status"],[1,"container__text__info"],[1,"div__show"],[1,"container__button__modal"],["mat-flat-button","","type","button",1,"btn","btn-success",3,"click"],["mat-flat-button","","type","button",1,"btn","btn-secondary",3,"click"],[1,"container__no"],[1,"container__add__group"]],template:function(e,n){e&1&&M(0,we,3,1,"div",0)(1,Oe,10,0,"div",1),e&2&&D(n.isAuthenticated?0:n.isAuthenticated?-1:1)},dependencies:[oe,Q,re,ae],styles:[".container__card[_ngcontent-%COMP%]{padding:1rem}.container__card[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{padding:1.5rem;background-color:#fff}.container__card[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .container__text__info[_ngcontent-%COMP%]{padding:.7rem}.container__card[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .container__button__modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1.5rem}.container__card[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .container__button__modal[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important;border-radius:5px!important;border:solid 1px #000000!important;font-size:1.1rem!important}.container__card[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .container__button__modal[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background-color:#23c479!important;border-radius:5px!important;font-size:1.1rem!important}span[_ngcontent-%COMP%]{font-size:1.1rem!important}.container__info__logo[_ngcontent-%COMP%]{padding:2rem;display:flex;justify-content:center;align-items:center;text-align:center}.container__no__found[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;align-items:center;padding:5rem;height:100vh}.container__guest[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.container__add__group___init[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:center;align-items:center}.container__add__group___init[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}"]})};var be=[{path:"",loadChildren:()=>import("./chunk-LZIJUE57.js").then(i=>i.auth)},{path:"dashboard",canActivate:[x],loadChildren:()=>import("./chunk-2IC6YDUN.js").then(i=>i.dashboard)},{path:"invitado/:token",component:f}];var Ae={firebaseConfig:{apiKey:"AIzaSyDRZ6o-hJrUkU6NsVV3VpgUnJZAIFvissY",authDomain:"divide-ya.firebaseapp.com",projectId:"divide-ya",storageBucket:"divide-ya.firebasestorage.app",messagingSenderId:"965728260085",appId:"1:965728260085:web:a99e67b807bdcef7df1abc",measurementId:"G-MJ9YP2M4CR"}};var Ee="@",Re=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=l(T);loadingSchedulerFn=l(ke,{optional:!0});_engine;constructor(e,n,o,d,p){this.doc=e,this.delegate=n,this.zone=o,this.animationType=d,this.moduleImpl=p}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-JKPOHZEX.js").then(o=>o),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(o=>{throw new E(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:d})=>{this._engine=o(this.animationType,this.doc);let p=new d(this.delegate,this._engine,this.zone);return this.delegate=p,p})}createRenderer(e,n){let o=this.delegate.createRenderer(e,n);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let d=new w(o);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(p=>{let Me=p.createRenderer(e,n);d.use(Me),this.scheduler??=this.injector.get(N,null,{optional:!0}),this.scheduler?.notify(10)}).catch(p=>{d.use(o)}),d}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){B()};static \u0275prov=v({token:i,factory:i.\u0275fac})}return i})(),w=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,o){this.delegate.insertBefore(t,e,n,o)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,o){this.delegate.setAttribute(t,e,n,o)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,o){this.delegate.setStyle(t,e,n,o)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,o){return this.shouldReplay(e)&&this.replay.push(d=>d.listen(t,e,n,o)),this.delegate.listen(t,e,n,o)}shouldReplay(t){return this.replay!==null&&t.startsWith(Ee)}},ke=new R("");function xe(i="animations"){return U("NgAsyncAnimations"),F([{provide:z,useFactory:(t,e,n)=>new Re(t,e,n,i),deps:[K,W,j]},{provide:V,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Se={providers:[xe(),Z({eventCoalescing:!0}),ie(be),ee($()),q(),se(()=>de(Ae.firebaseConfig)),le(()=>ce()),pe(()=>me()),G(fe.forRoot({timeOut:1e4,positionClass:"toast-bottom-right",preventDuplicates:!0})),Ce(),{provide:ye,useValue:"es-ES"}]};var S=class i{title="divideYa";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container__background"]],template:function(e,n){e&1&&(r(0,"div",0),C(1,"router-outlet"),a())},dependencies:[ne],styles:[".container__background[_ngcontent-%COMP%]{background-color:#efefef;height:100vh}"]})};X(S,Se).catch(i=>console.error(i));
